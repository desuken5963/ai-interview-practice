# 要件定義書

## 目次
- [1. はじめに](#1-はじめに)
- [2. サービス概要](#2-サービス概要)
  - [2.1. サービス名](#21-サービス名)
  - [2.2. 目的・背景](#22-目的背景)
  - [2.3. サービス説明](#23-サービス説明)
  - [2.4. 対象ユーザー](#24-対象ユーザー)
  - [2.5. 提供価値](#25-提供価値)
  - [2.6. 利用フロー概要](#26-利用フロー概要)
- [3. 機能要件](#3-機能要件)
  - [3.1. 優先度 高](#31-優先度-高)
  - [3.2. 優先度 中](#32-優先度-中)
  - [3.3. 優先度 低（将来拡張）](#33-優先度-低将来拡張)
- [4. 非機能要件](#4-非機能要件)
  - [4.1. 技術スタック・構成](#41-技術スタック構成)
  - [4.2. セキュリティ要件](#42-セキュリティ要件)
  - [4.3. パフォーマンス要件](#43-パフォーマンス要件)
  - [4.4. 運用・コスト要件](#44-運用コスト要件)
- [5. リリース計画・運用](#5-リリース計画運用)
- [6. 今後の拡張・検討事項](#6-今後の拡張検討事項)

---

## 1. はじめに
本書は、**メンレン**（面接練習アプリ）の要件定義書です。  
サービスの目的・機能・システム構成を明確化し、開発・運用に必要な項目を整理することを目的とします。

---

## 2. サービス概要

### 2.1. サービス名
- **サービス名**: メンレン（仮）

### 2.2. 目的・背景
- 転職・就職活動・アルバイト面接など、幅広い求職者を支援したい  
- 企業や求人情報に応じた実践的な面接練習と、AIによる即時フィードバックを提供し、効率的に面接対策を行えるようにする

### 2.3. サービス説明
- **企業・求人情報を登録**して、それを元にAIが模擬面接を実施  
- **テキストチャット形式**および**音声通話形式**での面接練習を行い、回答内容に対する評価をAIが返す  
- 評価結果をグラフやランクで可視化し、ユーザーが苦手分野を把握できる仕組みを提供

### 2.4. 対象ユーザー
1. **転職活動中の社会人**  
2. **就職活動中の学生・新卒**  
3. **日本への就職を考えている外国人**

### 2.5. 提供価値
1. **企業・求人に応じた模擬面接**: 登録内容に合わせた質問をAIが生成、面接再現
2. **AIによる多角的フィードバック**: 回答の論理性やポジティブ感、説得力、社風に沿っているかなどをスコア化 
3. **手軽な練習環境**: テキスト模擬面接ではPC・スマホで場所を選ばず面接対策が可能  
4. **音声対応でよりリアルな体験**: 音声での回答に対し、AIが回答内容をテキスト変換・解析し、フィードバック  
5. **学習履歴の可視化**: 過去の回答や評価を蓄積し、成長を実感しやすいUI

### 2.6. 利用フロー概要
1. **ユーザー登録・ログイン** (Auth0利用を想定)  
2. **企業情報・求人情報登録**（必要に応じて）  
3. **面接練習開始**  
   - **テキストチャット**または**音声通話**を選択  
   - AIが質問 → ユーザーが回答 → AIが評価を返す
4. **フィードバック閲覧**
   - 質問ごとの点数・コメント、総合ランクなど  
5. **履歴確認**
   - 過去の練習ログやスコア変遷の参照

---

## 3. 機能要件

### 3.1. 優先度 高

1. **企業求人管理機能**
   - 企業情報（名称、業種、規模 等）の保存・編集・削除  
   - 求人情報（職種、雇用形態、募集要項 等）の保存・編集・削除  
   - 企業登録の有無・求人登録の有無に応じて面接練習内容を出し分ける

2. **AI面接練習機能（チャット形式 & 音声面接）**
   - AIが面接官として質問を提示  
   - **テキスト面接**: ユーザー回答 → AI応答  
   - **音声面接**: ユーザーが音声入力 → 音声認識でテキスト化 → AIが応答  
   - 企業・求人情報を含め、適切な質問を生成（テンプレ＋AI）  
   - 面接時の一連のQ&AはチャットUIまたは音声UIでリアルタイム表示

3. **AI面接評価FB機能**
   - 回答内容を解析し、以下の評価項目（例）で点数化  
     - 論理性・ポジティブ感・具体性 など  
   - 総合評価（A～Eランク等）と改善コメントの提示
   - 評価結果をグラフ（レーダーチャート等）で可視化
   - 履歴一覧画面で複数回の練習結果を参照可能
   - DBに保存し、履歴として管理

### 3.2. 優先度 中

1. **ユーザー認証機能**
   - Auth0を利用したユーザー管理（登録・ログイン・ログアウト）  
   - ユーザー情報（プロフィール）の編集・削除

2. **決済機能**
   - Stripe等のクレジットカード決済を導入  
   - 有料プラン：利用回数無制限や高度なAIモデル（GPT-4など）を利用可能  
   - 無料プランとの比較表などを用意してプラン分けを明確化

### 3.3. 優先度 低（将来拡張）

1. **表情確認機能**
   - カメラを利用して表情・視線・緊張度などをAI解析  
   - ポジティブな印象度合いなどを評価

2. **面接表情録画機能**
   - ユーザーの面接中映像を録画し、後から自分自身の受け答えや表情を確認可能

---

## 4. 非機能要件

### 4.1. 技術スタック・構成
- **フロントエンド**: React / Next.js  
- **バックエンド**: Go (Gin) でAPIサーバーを実装  
- **データベース**: PostgreSQL / MySQL  
- **AI連携**: OpenAI API (GPT-3.5 / GPT-4 など)  
- **音声認識**: Whisper API, Google Cloud Speech-to-Text 等を検討  
- **インフラ構成**:  
  - Infrastructure as Code(IaC)で Terraform を使用  
  - デプロイ先: 
    - フロントエンド → Vercel  
    - バックエンド → AWS（ECS / EC2 / Lambda 等を想定）
- **開発環境**:  
  - Docker + **docker-compose** を利用しローカル環境を構築  

### 4.2. セキュリティ要件
- **認証・認可**: Auth0でトークン管理し、ユーザーアクセスを制御  
- **データ保護**: 企業や求人データは機密情報として適切に保護  
- **決済セキュリティ**: カード情報はStripe側で保持（PCI-DSS対応）

### 4.3. パフォーマンス要件
- **AI応答速度**: OpenAI APIや音声認識APIのレスポンスを見越し、ローディング表示などを検討  
- **音声ストリーミング**: 音声入力をリアルタイムで扱う場合、WebRTCやWebSocketなどの導入を検討  
- **スケーラビリティ**: ユーザー増加を想定したクラウドインフラ構築（オートスケーリングなど）

### 4.4. 運用・コスト要件
- **API利用料**: OpenAIや音声認識APIの従量課金を考慮  
- **料金プラン**: フリーミアム／サブスクなどを設定し、APIコストを回収  
- **障害対応**: AI API障害時の利用者への通知やサービス継続方法の検討

---

## 5. リリース計画・運用

1. **MVPリリース（優先度 高 + 中一部）**
   - 企業・求人登録機能
   - **テキストチャット面接 + 音声面接機能**  
   - AI評価機能（複数軸＋コメント）  
   - 必要に応じてユーザー認証（無料ユーザー限定リリースでも可）  
   - **Docker / docker-compose** での開発環境セットアップ

2. **ユーザーテスト & ポートフォリオ活用**
   - MVP版を公開し、転職活動のポートフォリオとして活用
   - ユーザーからのフィードバック収集

3. **インフラ・CI/CD環境の構築**
   - MVP機能実装後、**Terraform**でインフラ環境(AWS)をコード管理  
   - **GitHub Actions**を利用し、検証環境への自動デプロイを実装

4. **有料プラン導入 & 機能強化**
   - Stripe決済を導入し、有料ユーザー向けに高度なAIモデルや追加機能を開放(3Dセキュア対応も念頭に入れて置く)  
   - 音声認識・フィードバック精度などのチューニング

5. **長期運用**
   - ユーザー数拡大に伴い、表情解析や録画機能などを段階的に実装
   - 企業・業界別の質問テンプレや人事視点のアドバイスなど、専門性を高める

---

## 6. 今後の拡張・検討事項
1. **表情分析の高度化**: カメラ映像解析の精度や負荷、プライバシー対策
2. **BtoB展開**: エージェントや企業が採用候補者向けに本サービスを使うケース（企業アカウント）  
3. **自前の音声認識モデル/機械学習モデル**: オンプレやカスタムモデルの利用検討